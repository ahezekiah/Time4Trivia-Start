extends layout

block content
    .container
        h1 Time 4 Trivia Leaderboard
        
        .leaderboard-container
            if leaderboard && leaderboard.length > 0
                table.leaderboard-table
                    thead
                        tr
                            th.rank-col Rank
                            th.player-col Player
                            th.score-col Score
                            th.questions-col Questions
                            th.percentage-col Success Rate
                            th.date-col Date Played
                    tbody
                        each entry, index in leaderboard
                            tr(class=user && entry.Username === user.username ? 'current-user' : '')
                                td.rank
                                    if index === 0
                                        .rank-badge.gold üèÜ #{index + 1}
                                    else if index === 1
                                        .rank-badge.silver ü•à #{index + 1}
                                    else if index === 2
                                        .rank-badge.bronze ü•â #{index + 1}
                                    else
                                        .rank-badge #{index + 1}
                                td.player #{entry.FirstName} #{entry.LastName}
                                td.score #{entry.Score}/#{entry.QuestionsAnswered}
                                td.questions #{entry.QuestionsAnswered}
                                td.percentage #{Math.round((entry.Score / entry.QuestionsAnswered) * 100)}%
                                td.date #{new Date(entry.DatePlayed).toLocaleDateString()}
            else
                .no-scores
                    h3 No scores yet!
                    p Be the first to play and set a high score!
                    a.btn.btn-primary(href='/game/play') Start Playing
        
        .actions
            a.btn.btn-primary(href='/game/play') Play Trivia
            a.btn.btn-secondary(href='/') Back to Home

    style.
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .leaderboard-container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            margin-top: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            overflow-x: auto;
        }
        
        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .leaderboard-table th,
        .leaderboard-table td {
            padding: 15px 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .leaderboard-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.9em;
            letter-spacing: 0.5px;
        }
        
        .rank-col { width: 10%; text-align: center; }
        .player-col { width: 25%; }
        .score-col { width: 15%; text-align: center; }
        .questions-col { width: 15%; text-align: center; }
        .percentage-col { width: 15%; text-align: center; }
        .date-col { width: 20%; }
        
        .leaderboard-table tbody tr {
            transition: background-color 0.2s ease;
        }
        
        .leaderboard-table tbody tr:hover {
            background-color: #f8f9fa;
        }
        
        .leaderboard-table tbody tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .current-user {
            background-color: #e3f2fd !important;
            font-weight: 600;
        }
        
        .current-user:hover {
            background-color: #bbdefb !important;
        }
        
        .rank {
            text-align: center;
        }
        
        .rank-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .rank-badge.gold {
            background: linear-gradient(135deg, #ffd700, #ffed4a);
            color: #8b7000;
        }
        
        .rank-badge.silver {
            background: linear-gradient(135deg, #c0c0c0, #e0e0e0);
            color: #666;
        }
        
        .rank-badge.bronze {
            background: linear-gradient(135deg, #cd7f32, #daa520);
            color: #654321;
        }
        
        .score {
            font-weight: 600;
            color: #2c3e50;
            text-align: center;
        }
        
        .questions, .percentage {
            text-align: center;
        }
        
        .percentage {
            font-weight: 500;
            color: #27ae60;
        }
        
        .no-scores {
            text-align: center;
            padding: 60px 20px;
            color: #6c757d;
        }
        
        .no-scores h3 {
            margin-bottom: 15px;
            color: #495057;
        }
        
        .actions {
            text-align: center;
            margin-top: 30px;
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 25px;
            font-size: 1.1em;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.2s ease;
            color: white;
            font-weight: 500;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #2196F3, #1976D2);
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #1976D2, #1565C0);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(33, 150, 243, 0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #6c757d, #495057);
        }
        
        .btn-secondary:hover {
            background: linear-gradient(135deg, #545b62, #343a40);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(108, 117, 125, 0.3);
        }
        
        @media (max-width: 768px) {
            .leaderboard-table {
                font-size: 0.9em;
            }
            
            .leaderboard-table th,
            .leaderboard-table td {
                padding: 10px 5px;
            }
            
            .player-col { width: 30%; }
            .date-col { width: 25%; }
        }
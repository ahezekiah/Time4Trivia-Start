extends layout

block content
    .container
        h1 Time 4 Trivia Leaderboard
        
        .leaderboard-container
            if leaderboard && leaderboard.length > 0
                table.leaderboard-table
                    thead
                        tr
                            th.rank-col Rank
                            th.player-col Player
                            th.score-col Score
                            th.questions-col Questions
                            th.percentage-col Success Rate
                            th.date-col Date Played
                    tbody
                        each entry, index in leaderboard
                            tr(class=user && entry.Username === user.username ? 'current-user' : '')
                                td.rank
                                    if index === 0
                                        .rank-badge.gold üèÜ #{index + 1}
                                    else if index === 1
                                        .rank-badge.silver ü•à #{index + 1}
                                    else if index === 2
                                        .rank-badge.bronze ü•â #{index + 1}
                                    else
                                        .rank-badge #{index + 1}
                                td.player
                                    span #{entry.Username}
                                    if entry.Role
                                        - var roleClass = 'role-' + entry.Role.toLowerCase()
                                        span(class='role-badge ' + roleClass)= entry.Role
                                td.score #{entry.Score}/#{entry.QuestionsAnswered}
                                td.questions #{entry.QuestionsAnswered}
                                td.percentage #{Math.round((entry.Score / entry.QuestionsAnswered) * 100)}%
                                td.date #{new Date(entry.DatePlayed).toLocaleDateString()}
            else
                .no-scores
                    h3 No scores yet!
                    p Be the first to play and set a high score!
                    a.btn.btn-primary(href='/g/play') Start Playing
        
        .actions
            a.btn.btn-primary(href='/g/play') Play Trivia
            a.btn.btn-secondary(href='/') Back to Home
        